(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{4199:function(e,t,n){Promise.resolve().then(n.bind(n,8865)),Promise.resolve().then(n.bind(n,472))},2003:function(e,t,n){"use strict";n.d(t,{e:function(){return Q}});var i=n(6556);let s=e=>e.reduce((e,t)=>({...e,[t.id]:t}),{}),r=e=>({id:e.id,name:e.name,active:e.active,link:e.link,limit:e.usersLimit}),o=e=>e.map(e=>({id:e.id,text:e.text,image:e.image})),a=e=>({quiz:{id:e.quiz.id,name:e.quiz.name,active:e.quiz.active,link:e.quiz.link,usersLimit:e.quiz.limit},answers:Object.values(e.answers).reduce((e,t)=>[...e,...t],[]),questions:e.questions});var c=n(7211),u=n(9172);let d={DEFAULT_QUIZ:{id:null,name:"",active:!1,link:"",limit:0},DEFAULT_QUESTIONS:[{id:"1",text:""},{id:"2",text:""},{id:"3",text:""}],DEFAULT_ANSWERS:{1:[{id:"1",questionId:"1",text:"",isCorrect:!0},{id:"2",questionId:"1",text:"",isCorrect:!1}],2:[{id:"1",questionId:"2",text:"",isCorrect:!0},{id:"2",questionId:"2",text:"",isCorrect:!1}],3:[{id:"1",questionId:"3",text:"",isCorrect:!0},{id:"2",questionId:"3",text:"",isCorrect:!1}]}},l=(0,u.yM)(),m=(0,u.yM)(),_=(0,u.yM)(),p=(0,u.yM)(),h=(0,u.yM)(),f=(0,u.yM)(),g=(0,u.yM)(),x=(0,u.MT)(d.DEFAULT_QUIZ).on(l,(e,t)=>({...e,...t})).reset(g),B=(0,u.MT)(d.DEFAULT_QUESTIONS).on(m,(e,t)=>e.map(e=>e.id===t.id?{...e,...t}:e)).on(_,e=>[...e,{id:String(e.length+1),index:e.length,text:""}]).on(p,(e,t)=>{let{startIndex:n,endIndex:i}=t,[s]=e.splice(n,1);return e.splice(i,0,s),e}).reset(g),j=(0,u.MT)(d.DEFAULT_ANSWERS).on(h,(e,t)=>{let{questionId:n,id:i,...s}=t;return{...e,[n]:e[n].map(e=>e.id===i?{...e,...s}:e)}}).on(f,(e,t)=>{let{questionId:n}=t;return{...e,[n]:[...e[n],{id:String(e[n].length),questionId:n,text:"",isCorrect:!1}]}}).reset(g);(0,u.UP)({source:{answers:j,questions:B},clock:_,fn:e=>{let{answers:t,questions:n}=e;return{...t,[n.length]:[{id:"1",questionId:String(n.length),text:"",isCorrect:!0},{id:"2",questionId:String(n.length),text:"",isCorrect:!1}]}},target:j}),(0,u.UP)({source:{answers:j},clock:h,filter:(e,t)=>t.isCorrect,fn:(e,t)=>{let{answers:n}=e,{questionId:i,id:s,isCorrect:r}=t;return{...n,[i]:n[i].map(e=>e.id===s?{...e,isCorrect:r}:{...e,isCorrect:!1})}},target:j});let y=(0,u.GW)(c.eU.createQuiz),v=(0,u.yM)();(0,u.UP)({source:{quiz:x,answers:j,questions:B},clock:v,fn:e=>a(e),target:y});let z=(0,u.GW)(c.eU.updateQuiz),k=(0,u.yM)();(0,u.UP)({source:{quiz:x,answers:j,questions:B},clock:k,fn:e=>a(e),target:z});let q=(0,u.yM)(),T=(0,u.MT)(!1).reset(q);(0,u.UP)({clock:[y.doneData,z.doneData],fn:()=>!0,target:T});let N=(0,u.GW)(c.eU.deleteQuiz),U=(0,i.Bq)(),b=(0,u.GW)(c.eU.getQuiz),P=(0,i.Bq)();(0,u.UP)({clock:P.open,target:g}),(0,u.UP)({clock:b.doneData,fn:e=>{let{quiz:t}=e;return r(t)},target:l}),(0,u.UP)({clock:b.doneData,fn:e=>{let{questions:t}=e;return o(t)},target:B}),(0,u.UP)({clock:b.doneData,fn:e=>{let{answers:t}=e;return t},target:j}),(0,u.UP)({source:{id:U.state},clock:U.open,fn:e=>{let{id:t}=e;return t},target:b});let E=(0,u.GW)(c.eU.getQuizes),C=(0,i.Bq)(),L=(0,u.MT)({}).on(E.doneData,(e,t)=>{let{data:n}=t;return s(n)});(0,u.UP)({clock:C.open,target:E});let Q={useQuizes:()=>((0,i.DD)(C),{pool:(0,i.oR)(L),isLoading:(0,i.oR)(E.pending)}),activeModel:{useQuiz:()=>{let e=(0,i.oR)(x),t=(0,i.eY)(l);return{quiz:e,update:t}},useQuestions:()=>({questions:(0,i.oR)(B),update:(0,i.eY)(m),add:(0,i.eY)(_),reorder:(0,i.eY)(p)}),useAnswers:()=>({answers:(0,i.oR)(j),update:(0,i.eY)(h),add:(0,i.eY)(f)}),useCreate:()=>({create:(0,i.eY)(v),isLoading:(0,i.oR)(y.pending),isCreated:(0,i.oR)(T),reset:(0,i.eY)(q)}),useUpdate:()=>({update:(0,i.eY)(k),isLoading:(0,i.oR)(z.pending),isCreated:(0,i.oR)(T),reset:(0,i.eY)(q)}),useGetQuiz:e=>((0,i.DD)(U,e),{isLoading:(0,i.oR)(b.pending)}),useDelete:()=>({deleteQuiz:(0,i.eY)(N)}),useInitQuizCreating:()=>{(0,i.DD)(P)}}}},7211:function(e,t,n){"use strict";n.d(t,{mA:function(){return s},qh:function(){return o},eU:function(){return r}});var i=n(7866);let s={getActiveQuiz:async()=>(0,i.$)({url:"/api",method:"GET"}),getAdminMain:async()=>(0,i.$)({url:"/admin/main/api",method:"GET"}),updateMain:async e=>(0,i.$)({url:"/admin/main/api",method:"PUT",body:e})},r={createQuiz:e=>(0,i.$)({url:"/admin/add/api",method:"POST",body:e}),getQuizes:()=>(0,i.$)({url:"/admin/list/api",method:"GET"}),getQuiz:e=>(0,i.$)({url:"/admin/quiz/".concat(e,"/api"),method:"GET"}),updateQuiz:e=>(0,i.$)({url:"/admin/quiz/".concat(e.quiz.id,"/api"),method:"PUT",body:e}),deleteQuiz:e=>(0,i.$)({url:"/admin/quiz/".concat(e,"/api"),method:"DELETE"})},o={getList:async()=>(0,i.$)({url:"/admin/promo/api",method:"GET"}),createPromo:async e=>(0,i.$)({url:"/admin/promo/api",method:"POST",body:e}),updatePromo:async e=>(0,i.$)({url:"/admin/promo/".concat(e.id,"/api"),method:"PUT",body:e}),deletePromo:async e=>(0,i.$)({url:"/admin/promo/".concat(e,"/api"),method:"DELETE"}),getPromo:async e=>(0,i.$)({url:"/admin/promo/".concat(e,"/api"),method:"GET"})}},7866:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});let i=async e=>{let{url:t,method:n="GET",body:i}=e;return fetch(t,{method:n,headers:{"Content-Type":"application/json"},..."GET"!==n&&{body:JSON.stringify(i)}}).then(e=>e.json())}},4741:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var i=n(7437),s=n(2265),r=n(9047),o=n.n(r);let a=s.memo(e=>{let{children:t,ariaLabel:n,view:r="primary",isBold:a=!1,isDisabled:c=!1,className:u,onPress:d}=e,l=(0,s.useMemo)(()=>[o().button,o()["button--view-".concat(r)],...a?[o().isBold]:[],...c?[o().isDisabled]:[],u].join(" "),[u,r,a,c]);return(0,i.jsx)("button",{"aria-label":n,className:l,disabled:c,onClick:d,children:t})})},2063:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(7437),s=n(1396),r=n.n(s),o=n(2265),a=n(9347),c=n.n(a);let u=o.memo(e=>{let{className:t,children:n,href:s}=e;return(0,i.jsx)(r(),{href:s,className:"".concat(t," ").concat(c().root),children:n})})},3321:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(7437),s=n(2265),r=n(6833),o=n.n(r);let a=s.memo(e=>{let{className:t,children:n,title:s}=e;return(0,i.jsxs)("div",{className:"".concat(o().root," ").concat(t),children:[(0,i.jsx)("h1",{className:o().title,children:s}),n]})})},3459:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var i=n(7437),s=n(2265),r=n(5630),o=n.n(r);let a=s.memo(e=>{let{name:t,className:n}=e,r=(0,s.useMemo)(()=>[o().iconBase,o()["iconBase--".concat(t)],n].join(" "),[t,n]);return(0,i.jsx)("i",{className:r})})},9328:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var i=n(7437),s=n(4741),r=n(2265),o=n(9406),a=n.n(o),c=n(3321);let u=r.memo(e=>{let{className:t,title:n,children:r,onPress:o}=e;return(0,i.jsxs)(c.r,{className:t,title:n,children:[(0,i.jsx)(s.z,{className:a().button,ariaLabel:"Добавть",onPress:o,children:"Добавить"}),r]})})},8258:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var i=n(7437),s=n(2265),r=n(1747),o=n.n(r);let a=s.memo(e=>{let{isActive:t,onPress:n,className:s,children:r}=e;return(0,i.jsxs)("div",{className:o().root,onClick:()=>n(!t),children:[(0,i.jsx)("span",{className:"".concat(o().span," ").concat(t&&o()["is-active"])}),(0,i.jsx)("p",{children:r})]})})},8865:function(e,t,n){"use strict";n.r(t),n.d(t,{Header:function(){return d}});var i=n(7437),s=n(1396),r=n.n(s),o=n(2089),a=n.n(o),c=n(4033);let u=e=>e.includes("admin"),d=()=>{let e=(0,c.usePathname)();return(0,i.jsx)("header",{className:a().header,children:(0,i.jsxs)("div",{className:a().container,children:[(0,i.jsxs)("div",{className:a().main,children:[(0,i.jsx)("span",{className:a().logo,children:"LOGO NAME"}),(0,i.jsx)("p",{className:a().description,children:"Краткое описание чем занимаемся"})]}),u(e)?(0,i.jsxs)("div",{className:"".concat(a().menu," ").concat(a()["admin-menu"]),children:[(0,i.jsx)(r(),{className:a().link,href:"/admin/main",children:"Главная"}),(0,i.jsx)(r(),{className:a().link,href:"/admin/list",children:"Квизы"}),(0,i.jsx)(r(),{className:a().link,href:"/admin/promo",children:"Промокоды"})]}):(0,i.jsxs)("div",{className:a().menu,children:[(0,i.jsx)(r(),{className:a().link,href:"/",children:"Правила"}),(0,i.jsx)(r(),{className:a().link,href:"/",children:"Обратная связь"})]})]})})}},472:function(e,t,n){"use strict";n.r(t),n.d(t,{QuizesList:function(){return _}});var i=n(7437),s=n(2003),r=n(3459),o=n(8258),a=n(2265),c=n(2880),u=n.n(c),d=n(2063),l=n(4033),m=n(9328);let _=()=>{let{push:e}=(0,l.useRouter)(),{pool:t,isLoading:n}=s.e.useQuizes();return(0,i.jsx)(m.P,{title:"Квизы",onPress:()=>e("/admin/add"),children:!n&&(0,i.jsx)(i.Fragment,{children:Object.values(t).map(e=>(0,i.jsx)(p,{...e}))})})},p=a.memo(e=>{let{id:t,name:n,active:s}=e;return(0,i.jsxs)(d.Z,{className:u().card,href:"/admin/quiz/".concat(t),children:[(0,i.jsx)("p",{children:n}),(0,i.jsxs)("div",{className:u().inner,children:[(0,i.jsx)(o.i,{isActive:s,onPress:()=>{},children:"Активен"}),(0,i.jsx)(r.A,{name:"arrow"})]})]})})},9047:function(e){e.exports={button:"Button_button__wliYd","button--view-primary":"Button_button--view-primary__cWRgD","button--view-secondary":"Button_button--view-secondary__m_8WR",isBold:"Button_isBold__taXiK",isDisabled:"Button_isDisabled__Li_lC"}},9347:function(e){e.exports={root:"Card_root__5f1F2"}},6833:function(e){e.exports={root:"ContainerLayout_root__zz1Y6",title:"ContainerLayout_title__4hAT8"}},5630:function(e){e.exports={iconBase:"IconBase_iconBase__yVV0x","iconBase--people":"IconBase_iconBase--people__MwkHU","iconBase--time":"IconBase_iconBase--time__BQ7Wi","iconBase--currency":"IconBase_iconBase--currency___h1lj","iconBase--date":"IconBase_iconBase--date__NsHk0","iconBase--error":"IconBase_iconBase--error__2eW_2","iconBase--success":"IconBase_iconBase--success__wQV3Z","iconBase--menu":"IconBase_iconBase--menu__s4CGP","iconBase--telegram":"IconBase_iconBase--telegram__nJjjp","iconBase--arrow":"IconBase_iconBase--arrow__tHAQk","iconBase--close":"IconBase_iconBase--close__DIJpT"}},9406:function(e){e.exports={button:"ListLayout_button__EGCkl"}},1747:function(e){e.exports={root:"RadioToggle_root__gLM1H",span:"RadioToggle_span__Akwp1","is-active":"RadioToggle_is-active__affC_"}},2089:function(e){e.exports={header:"Header_header__Dqf0m",container:"Header_container___yW_1",main:"Header_main__t2bl_",logo:"Header_logo__YGu1H",description:"Header_description__qjc_m",menu:"Header_menu__pWdCw",link:"Header_link__XgKme","admin-menu":"Header_admin-menu__UPLc8"}},2880:function(e){e.exports={card:"QuizesList_card__m7jds",inner:"QuizesList_inner__kqLmM"}}},function(e){e.O(0,[231,396,971,596,744],function(){return e(e.s=4199)}),_N_E=e.O()}]);