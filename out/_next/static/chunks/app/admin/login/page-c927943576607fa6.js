(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{1817:function(t,e,n){Promise.resolve().then(n.bind(n,6109)),Promise.resolve().then(n.t.bind(n,7622,23))},6109:function(t,e,n){"use strict";n.r(e),n.d(e,{AuthAdmin:function(){return h}});var o=n(7437),i=n(9172),l=n(7866);let s=async t=>(0,l.$)({url:"/admin/login/api",method:"POST",body:t});var r=n(6556),a=n(9785);let u=(0,i.GW)(()=>a.J.setIsAuth("1")),c=(0,i.GW)({login:s}.login);(0,i.UP)({clock:c.doneData,filter:t=>{let{isExist:e}=t;return e},target:{authorizeFx:u}.authorizeFx});let d={loginModel:{useLogin:()=>{let t=(0,r.eY)(c),e=(0,r.oR)(c.pending);return{onLogin:t,isLoading:e}}}};var _=n(7410),m=n(4033),b=n(2265);let h=()=>{let{replace:t}=(0,m.useRouter)(),{onLogin:e,isLoading:n}=d.loginModel.useLogin(),i=(0,b.useCallback)(async n=>{try{let{isExist:o}=await e(n);o&&t("/admin/main")}catch(t){console.log(t)}},[]);return(0,o.jsx)(_.U,{isLoading:n,onSubmit:i})}},7866:function(t,e,n){"use strict";n.d(e,{$:function(){return o}});let o=async t=>{let{url:e,method:n="GET",body:o}=t;return fetch(e,{method:n,headers:{"Content-Type":"application/json"},..."GET"!==n&&{body:JSON.stringify(o)}}).then(t=>t.json())}},9785:function(t,e,n){"use strict";n.d(e,{J:function(){return o}});let o={setIsAuth:t=>{window.localStorage.setItem("isAuth",t)},getIsAuth:()=>window.localStorage.getItem("isAuth")}},4741:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var o=n(7437),i=n(2265),l=n(9047),s=n.n(l);let r=i.memo(t=>{let{children:e,ariaLabel:n,view:l="primary",isBold:r=!1,isDisabled:a=!1,className:u,onPress:c}=t,d=(0,i.useMemo)(()=>[s().button,s()["button--view-".concat(l)],...r?[s().isBold]:[],...a?[s().isDisabled]:[],u].join(" "),[u,l,r,a]);return(0,o.jsx)("button",{"aria-label":n,className:d,disabled:a,onClick:c,children:e})})},8632:function(t,e,n){"use strict";n.d(e,{I:function(){return r}});var o=n(7437),i=n(2265),l=n(4569),s=n.n(l);let r=i.memo(t=>{let{value:e,setValue:n,placeholder:l,error:r,type:a,label:u,className:c}=t,d=(0,i.useMemo)(()=>[s().input,r&&s().error].join(" "),[]);return(0,o.jsxs)("div",{className:c,children:[u&&(0,o.jsx)("label",{className:s().label,children:u}),(0,o.jsx)("input",{className:d,value:e,onChange:t=>{var e;let{nativeEvent:o}=t;n(null===(e=o.target)||void 0===e?void 0:e.value)},placeholder:l,type:a})]})})},7410:function(t,e,n){"use strict";n.d(e,{U:function(){return u}});var o=n(7437),i=n(2265),l=n(4373),s=n.n(l),r=n(8632),a=n(4741);let u=i.memo(t=>{let{isLoading:e,onSubmit:n}=t,[l,u]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),_=(0,i.useMemo)(()=>l.length&&c.length,[l,c]),m=(0,i.useCallback)(()=>{n({login:l,password:c})},[l,c]);return(0,o.jsxs)("div",{className:s().root,children:[(0,o.jsx)("h1",{className:s().title,children:"Авторизация"}),(0,o.jsx)(r.I,{className:s().field,label:"Логин",placeholder:"Логин",value:l,setValue:u}),(0,o.jsx)(r.I,{className:s().field,label:"Пароль",placeholder:"Пароль",type:"password",value:c,setValue:d}),(0,o.jsx)(a.z,{className:s().button,ariaLabel:"Отправить",isDisabled:!_||e,onPress:m,children:"Войти"})]})})},7622:function(t){t.exports={main:"page_main__KqJ5b"}},9047:function(t){t.exports={button:"Button_button__wliYd","button--view-primary":"Button_button--view-primary__cWRgD","button--view-secondary":"Button_button--view-secondary__m_8WR",isBold:"Button_isBold__taXiK",isDisabled:"Button_isDisabled__Li_lC"}},4569:function(t){t.exports={input:"Input_input__dwy5x",label:"Input_label__5xQux","is-error":"Input_is-error___5fOS"}},4373:function(t){t.exports={root:"LoginForm_root__YA038",title:"LoginForm_title__wT16M",field:"LoginForm_field__nCtip",button:"LoginForm_button__i7cd3"}}},function(t){t.O(0,[231,971,596,744],function(){return t(t.s=1817)}),_N_E=t.O()}]);