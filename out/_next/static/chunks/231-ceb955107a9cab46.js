(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,f=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(f=t.ref),t)o.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:u,ref:f,props:i,_owner:l.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(8165)},1853:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,o=n.useEffect,l=n.useLayoutEffect,s=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var f="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),a=n[0].inst,f=n[1];return l(function(){a.value=r,a.getSnapshot=t,u(a)&&f({inst:a})},[e,r,t]),o(function(){return u(a)&&f({inst:a}),e(function(){u(a)&&f({inst:a})})},[e]),s(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:f},8704:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),a=r(6272),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=a.useSyncExternalStore,l=n.useRef,s=n.useEffect,u=n.useMemo,f=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var c=l(null);if(null===c.current){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=u(function(){function e(e){if(!s){if(s=!0,o=e,e=n(e),void 0!==a&&d.hasValue){var t=d.value;if(a(t,e))return l=t}return l=e}if(t=l,i(o,e))return t;var r=n(e);return void 0!==a&&a(t,r)?t:(o=e,l=r)}var o,l,s=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,a]);var p=o(e,c[0],c[1]);return s(function(){d.hasValue=!0,d.value=p},[p]),f(p),p}},6272:function(e,t,r){"use strict";e.exports=r(1853)},5401:function(e,t,r){"use strict";e.exports=r(8704)},6556:function(e,t,r){"use strict";r.d(t,{Bq:function(){return m},DD:function(){return p},eY:function(){return d},oR:function(){return c}});var n=r(2265),a=r(9172),i=r(5401),o=r(6272);function l(e,t,r,n){let i=[a.Nb.run({fn:e=>t(e)})];if(n&&i.unshift(n),r){let t=(0,a.dS)({node:i}),n=e.graphite.id,o=r.additionalLinks,l=o[n]||[];return o[n]=l,l.push(t),()=>{let e=l.indexOf(t);-1!==e&&l.splice(e,1),(0,a.PO)(t)}}{let t=(0,a.dS)({node:i,parent:[e],family:{owners:e}});return()=>{(0,a.PO)(t)}}}function s(e,t){let r=a.is.unit(e),i={};r?i={unit:e}:"@@unitShape"in e?"function"==typeof e["@@unitShape"]?i=e["@@unitShape"]():h("expect @@unitShape to be a function"):i=e;let o=Array.isArray(i),s=n.useRef({stale:1,justSubscribed:0,scope:t}),[u,f,c,d,p]=n.useMemo(()=>{s.current.stale=1;let e=Array.isArray(i)?[]:{},r=[],n=[],o=[],l=[];for(let s in i){let u=i[s];a.is.unit(u)||h("expect useUnit argument to be a unit"),a.is.event(u)||a.is.effect(u)?(e[s]=t?(0,a.WC)(u,{scope:t}):u,o.push(s),l.push(u)):(e[s]=null,r.push(s),n.push(u))}return[e,r,n,o,l]},[s,t,...Object.keys(i),...Object.values(i)]),m=n.useRef({value:u,storeKeys:f,eventKeys:d,eventValues:p}),g=n.useCallback(e=>{let r=s.current;r.justSubscribed=1;let n=()=>{r.stale||(r.stale=1,e())},i=a.Nb.compute({priority:"sampler",batch:1}),o=c.map(e=>l(e,n,t,i));return()=>{o.forEach(e=>e())}},[c,t,m,s]),y=n.useCallback(()=>{let e,n=m.current,a=s.current,i=0,l=n.value,h=n.storeKeys,g=n.eventKeys,v=n.eventValues,y=t!==a.scope;if(a.stale||a.justSubscribed||y){i=!a.justSubscribed||y,e=o?[...u]:{...u},h.length===f.length&&g.length===d.length||(i=1);for(let r=0;r<f.length;r++){let n=b(c[r],t),a=f[r];i||(i=h.includes(a)?l[a]!==n:1),e[a]=n}for(let e=0;e<d.length;e++){let t=p[e],r=d[e];i||(i=g.includes(r)?v[g.indexOf(r)]!==t:1)}}return i&&(n.value=e),n.storeKeys=f,n.eventKeys=d,n.eventValues=p,a.stale=0,a.justSubscribed=!i,a.scope=t,r?n.value.unit:n.value},[g,c,p,t,m,s]);return v(g,y,y)}function u(e,t={},r){let{open:a,close:i,set:o}=s({open:e.open,close:e.close,set:e.set},r),l=n.useMemo(()=>({open:a,close:i,set:o}),[e,a]),u=n.useRef({value:null,count:0});g(()=>(l.open(u.current.value),()=>l.close(u.current.value)),[l]),((e,t)=>{if(e===t)return 1;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return 0;for(let n=0;n<r.length;n++){let a=r[n];if(e[a]!==t[a])return 0}return 1}return 0})(u.current.value,t)||(u.current.value=t,u.current.count+=1),g(()=>{l.set(u.current.value)},[u.current.count])}function f(e){let t=n.useContext(S);return e&&!t&&h("No scope found, consider adding <Provider> to app root"),t}function c(e,t){var r;let i;return r=f(null==t?void 0:t.forceScope),a.is.store(e)||h("expect useStore argument to be a store"),v(n.useCallback(t=>l(e,t,r),[e,r]),i=n.useCallback(()=>b(e,r),[e,r]),i)}function d(e,t){return s(e,f(null==t?void 0:t.forceScope))}function p(e,t={},r){return u(e,t,f(null==r?void 0:r.forceScope))}function m(...e){return(({domain:e,defaultState:t,hook:r,mainConfig:n,maybeConfig:i})=>{var o;function l(e){return r(l,e,f()),null}let s=x({or:i,and:n}),u=`${e?`${e.compositeName.fullName}/`:""}${s.name||"gate"}`,c=(0,a.yM)({name:`${u}.set`,sid:s.sid?`${s.sid}|set`:void 0}),d=(0,a.yM)({name:`${u}.open`,sid:s.sid?`${s.sid}|open`:void 0}),p=(0,a.yM)({name:`${u}.close`,sid:s.sid?`${s.sid}|close`:void 0}),m=(0,a.MT)(!1,{name:`${u}.status`,serialize:"ignore"}).on(d,()=>!0).on(p,()=>!1),h=(0,a.MT)(t,{name:`${u}.state`,sid:s.sid}).on(c,(e,t)=>t).on(d,(e,t)=>t).reset(p);if(e){let{hooks:t}=e;(0,a.uP)({target:[t.store,t.store,t.event,t.event,t.event],params:[m,h,d,p,c]})}return l.open=d,l.close=p,l.status=m,l.state=h,l.set=c,o=`Gate:${u}`,l.displayName=o,l})(function(e,t){var r;let n,[[a,i],o]=function e(t,r){let n=r?t:t[0];(e=>{if(!e)throw Error("expect first argument be an object")})(w(n)||"function"==typeof n);let a=n.or,i=n.and;if(i){let n=r?i:i[0];if(w(n)&&"and"in n){let n=e(i,r);t=n[0],a={...a,...n[1]}}else t=i}return[t,a]}(t&&w(r=t[0])&&(r.and||r.or)?t:[{and:t}]),l={},s={};return"string"==typeof a?(s={name:a},w(i)&&"sid"in i||(l=i||{})):w(a)&&("domain"in a||"defaultState"in a||"name"in a)&&(s=a,l=a.defaultState||{},n=a.domain),{hook:e,domain:n,defaultState:l,mainConfig:s,maybeConfig:o}}(u,e))}let h=e=>{throw Error(e)},g="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,{useSyncExternalStore:v}=o,{useSyncExternalStoreWithSelector:y}=i,b=(e,t)=>t?t.getState(e):e.getState(),S=n.createContext(null),{Provider:k}=S,w=e=>"object"==typeof e&&null!==e,x=(e,t={})=>(w(e)&&(x(e.or,t),(e=>{var r;for(let n in e)void 0===(r=e[n])||"or"===n||"and"===n||(t[n]=r)})(e),x(e.and,t)),t)},9172:function(e,t,r){"use strict";function n(e,t){for(let r in e)t(e[r],r)}function a(e,t){e.forEach(t)}function i(e,t){if(!e)throw Error(t)}function o({node:e=[],from:t,source:r,parent:n=t||r,to:i,target:o,child:l=i||o,scope:s={},meta:u={},family:f={type:"regular"},regional:c}={}){let d=ee(n),p=ee(f.links),m=ee(f.owners),h=[];a(e,e=>e&&W(h,e));let g={id:G(),seq:h,next:ee(l),meta:u,scope:s,family:{type:f.type||"crosslink",links:p,owners:m}};return a(p,e=>W(w(e),g)),a(m,e=>W(x(e),g)),a(d,e=>W(e.next,g)),c&&H&&Z(j(H),[g]),g}function l(e,t,r){let n,i=eq,o=null,l=eR;if(e.target&&(t=e.params,r=e.defer,n=e.meta,i="page"in e?e.page:i,e.stack&&(o=e.stack),l=N(e)||l,e=e.target),l&&eR&&l!==eR&&(eR=null),Array.isArray(e))for(let r=0;r<e.length;r++)eN("pure",i,k(e[r]),o,t[r],l,n);else eN("pure",i,k(e),o,t,l,n);if(r&&!eA)return;let s,u,f,c,d,p,m={isRoot:eA,currentPage:eq,scope:eR,isWatch:eP,isPure:ez};eA=0;e:for(;c=eC();){let{idx:e,stack:t,type:r}=c;f=t.node,eq=d=t.page,eR=N(t),d?p=d.reg:eR&&(p=eR.reg);let n=!!d,i=!!eR,o={fail:0,scope:f.scope};s=u=0;for(let a=e;a<f.seq.length&&!s;a++){let l=f.seq[a];if(l.order){let{priority:n,barrierID:i}=l.order,o=i?d?`${d.fullID}_${i}`:i:0;if(a!==e||r!==n){i?e_.has(o)||(e_.add(o),eO(a,t,n,i)):eO(a,t,n);continue e}i&&e_.delete(o)}switch(l.type){case"mov":{let e,r=l.data;switch(r.from){case S:e=j(t);break;case"a":case"b":e=t[r.from];break;case"value":e=r.store;break;case"store":if(p&&!p[r.store.id]){if(n){let e=eF(d,r.store.id);t.page=d=e,e?p=e.reg:i?(eV(eR,r.store,0,1,r.softRead),p=eR.reg):p=void 0}else i&&eV(eR,r.store,0,1,r.softRead)}e=ek(p&&p[r.store.id]||r.store)}switch(r.to){case S:t.value=e;break;case"a":case"b":t[r.to]=e;break;case"store":eW(d,eR,f,r.target).current=e}break}case"compute":let c=l.data;if(c.fn){eP="watch"===O(f,"op"),ez=c.pure;let e=c.safe?(0,c.fn)(j(t),o.scope,t):eK(o,c.fn,t);c.filter?u=!e:t.value=e,eP=m.isWatch,ez=m.isPure}}s=o.fail||u}if(eT&&eT(t,o),!s){let e=j(t),r=N(t);if(a(f.next,n=>{eN("child",d,n,t,e,r)}),r){O(f,"needFxCounter")&&eN("child",d,r.fxCount,t,e,r),O(f,"storeChange")&&eN("child",d,r.storeChange,t,e,r),O(f,"warnSerialize")&&eN("child",d,r.warnSerializeNode,t,e,r);let n=r.additionalLinks[f.id];n&&a(n,n=>{eN("child",d,n,t,e,r)})}}}eA=m.isRoot,eq=m.currentPage,eR=N(m)}function s(e,t="combine"){let r=t+"(",a="",i=0;return n(e,e=>{i<25&&(null!=e&&(r+=a+(R(e)?_(e).fullName:e.toString())),i+=1,a=", ")}),r+")"}function u(e,t){let r=t?e:e[0];ea(r);let n=r.or,a=r.and;if(a){let r=t?a:a[0];if(et(r)&&"and"in r){let r=u(a,t);e=r[0],n={...n,...r[1]}}else e=a}return[e,n]}function f(e,...t){let r=Q();if(r){let n=r.handlers[e];if(n)return n(r,...t)}}function c(e,t){let r=eB({or:t,and:"string"==typeof e?{name:e}:e}),n=(e,...t)=>(L(!O(n,"derived"),"call of derived event","createEvent"),L(!ez,"unit call from pure function","operators like sample"),eq?((e,t,r,n)=>{let a=eq,i=null;if(t)for(i=eq;i&&i.template!==t;)i=C(i);eD(i);let o=e.create(r,n);return eD(a),o})(n,a,e,t):n.create(e,t)),a=Q(),i=Object.assign(n,{graphite:o({meta:e0(r.actualOp||"event",n,r),regional:1}),create:e=>(l({target:n,params:e,scope:eR}),e),watch:e=>eX(n,e),map:e=>e1(n,b,e,[ey()]),filter:e=>e1(n,"filter",e.fn?e:e.fn,[ey(ef,1)]),filterMap:e=>e1(n,"filterMap",e,[ey(),eg(e=>!en(e),1)]),prepend(e){let t=c("* → "+n.shortName,{parent:C(n)});return f("eventPrepend",k(t)),eQ(t,n,[ey()],"prepend",e),eZ(n,t),t}});return null!=r&&r.domain&&r.domain.hooks.event(i),M(i,"id",i.graphite.id),J(i.graphite),i}function d(e,t,r,n){return eo(r,t,"first argument"),i(er(n),"second argument should be a function"),L(!O(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),a(Array.isArray(r)?r:[r],t=>{e.off(t),E(e).set(t,eJ(e2(t,e,"on",eu,n)))}),e}function p(e,t){let r=eB(t),n=eS(e),s=c({named:"updates",derived:1});f("storeBase",n);let u=n.id,m={subscribers:new Map,updates:s,defaultState:e,stateRef:n,getState(){let e,t=n;if(eq){let t=eq;for(;t&&!t.reg[u];)t=C(t);t&&(e=t)}return!e&&eR&&(eV(eR,n,1),e=eR),e&&(t=e.reg[u]),ek(t)},setState:e=>l({target:m,params:e,defer:1,scope:eR}),reset:(...e)=>(a(e,e=>d(m,".reset",e,()=>m.defaultState)),m),on:(e,t)=>d(m,".on",e,t),off(e){let t=E(m).get(e);return t&&(t(),E(m).delete(e)),m},map(e,t){let r,a;et(e)&&(r=e,e=e.fn),L(en(t),"second argument of store.map","updateFilter");let i=m.getState();Q()?a=null:en(i)||(a=e(i,t));let o=p(a,{name:`${m.shortName} \u2192 *`,derived:1,and:r}),l=e2(m,o,b,es,e);return ew($(o),{type:b,fn:e,from:n}),$(o).noInit=1,f("storeMap",n,l),o},watch(e,t){if(!t||!R(e)){let t=eX(m,e);return f("storeWatch",n,e)||e(m.getState()),t}return i(er(t),"second argument should be a function"),e.watch(e=>t(m.getState(),e))}},h=e0("store",m,r),g=m.defaultConfig.updateFilter;m.graphite=o({scope:{state:n,fn:g},node:[eg((e,t,r)=>(r.scope&&!r.scope.reg[n.id]&&(r.b=1),e)),ev(n),eg((e,t,{a:r,b:n})=>!en(e)&&(e!==r||n),1),g&&ey(es,1),ep({from:S,target:n})],child:s,meta:{...h,defaultState:e},regional:1}),M(m,"id",m.graphite.id),M(m,"rootStateRefId",u);let v=O(m,"serialize"),y=O(m,"derived"),k=O(m,"sid");return k&&(M(m,"storeChange",1),n.sid=k),k||"ignore"===v||y||M(m,"warnSerialize",1),i(y||!en(e),"current state can't be undefined, use null instead"),Z(m,[s]),null!=r&&r.domain&&r.domain.hooks.store(m),y||(m.reinit=c({named:"reinit"}),m.reset(m.reinit)),n.meta=m.graphite.meta,J(m.graphite),m}function m(){let e={};return e.req=new Promise((t,r)=>{e.rs=t,e.rj=r}),e.req.catch(()=>{}),e}function h(e,t={}){let r=eB(er(e)?{handler:e}:e,t),n=c(er(e)?{handler:e}:e,{...t,actualOp:"effect"}),a=k(n);M(a,"op",n.kind="effect"),n.use=e=>(i(er(e),".use argument should be a function"),g.scope.handler=e,n),n.use.getCurrent=()=>g.scope.handler;let s=n.finally=c({named:"finally",derived:1}),u=n.done=s.filterMap({named:"done",fn({status:e,params:t,result:r}){if("done"===e)return{params:t,result:r}}}),f=n.fail=s.filterMap({named:"fail",fn({status:e,params:t,error:r}){if("fail"===e)return{params:t,error:r}}}),d=n.doneData=u.map({named:"doneData",fn:({result:e})=>e}),h=n.failData=f.map({named:"failData",fn:({error:e})=>e}),g=o({scope:{handler:n.defaultConfig.handler||(()=>i(0,`no handler used in ${n.getType()}`))},node:[eg((e,t,r)=>{let a=t.handler,i=N(r);if(i){let e=i.handlers.unitMap.get(n)||i.handlers.sidMap[n.sid];e&&(a=e)}return e.handler=a,e},0,1),eg(({params:e,req:t,handler:r,args:n=[e]},a,i)=>{let o=e3(i),l=e4(e,t,1,s,i,o),u=e4(e,t,0,s,i,o),[f,c]=e5(r,u,n);f&&(et(c)&&er(c.then)?c.then(l,u):l(c))},0,1)],meta:{op:"fx",fx:"runner"}});a.scope.runner=g,W(a.seq,eg((e,{runner:t},r)=>{let n=C(r)?{params:e,req:{rs(e){},rj(e){}}}:e;return r.meta||(r.meta={fxID:Y()}),l({target:t,params:n,defer:1,scope:N(r),meta:r.meta}),n.params},0,1)),n.create=e=>{let t=m();if(eR&&!eP){let e=eR;t.req.finally(()=>{eI(e)}).catch(()=>{})}return l({target:n,params:{params:e,req:t},scope:eR}),t.req};let v=n.inFlight=p(0,{serialize:"ignore",named:(O(n,"name")||n.graphite.id)+".inFlight"}).on(n,e=>e+1).on(s,e=>e-1).map({fn:e=>e,named:"inFlight"});M(s,"needFxCounter","dec"),M(n,"needFxCounter",1);let y=n.pending=v.map({fn:e=>e>0,named:"pending"});return Z(n,[s,u,f,d,h,y,v]),null!=r&&r.domain&&r.domain.hooks.effect(n),n}function g(...e){var t;let r,n,o,l,s,[[f,c,d],p]=u(e),m=1;return en(c)&&et(f)&&(t=f,r=0,a(e8,e=>{e in t&&(i(null!=t[e],e9("sample",e)),r=1)}),r)&&(c=f.clock,d=f.fn,m=!f.greedy,s=f.filter,n=f.target,o=f.name,l=f.sid,f=f.source),te("sample",c,f,s,n,d,o,p,m,1,0,l)}function v(e,{scope:t,safe:r}={}){i(t||eR||r,"scopeBind cannot be called outside of forked .watch");let n=t||eR;return q(e)?t=>{let r=m();return l({target:e,params:{params:t,req:r},scope:n}),r.req}:t=>(l({target:e,params:t,scope:n}),t)}r.d(t,{GW:function(){return h},MT:function(){return p},Nb:function(){return eb},PO:function(){return eH},UP:function(){return g},WC:function(){return v},dS:function(){return o},is:function(){return F},uP:function(){return l},yM:function(){return c}});let y="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",b="map",S="stack",k=e=>e.graphite||e,w=e=>e.family.owners,x=e=>e.family.links,$=e=>e.stateRef,j=e=>e.value,E=e=>e.subscribers,C=e=>e.parent,N=e=>e.scope,O=(e,t)=>k(e).meta[t],M=(e,t,r)=>k(e).meta[t]=r,_=e=>e.compositeName,R=e=>(er(e)||et(e))&&"kind"in e,A=e=>t=>R(t)&&t.kind===e,P=A("store"),z=A("event"),q=A("effect"),I=A("domain"),D=A("scope");var F={__proto__:null,unit:R,store:P,event:z,effect:q,domain:I,scope:D,attached:e=>q(e)&&1==O(e,"attached")};let T=(e,t)=>{let r=e.indexOf(t);-1!==r&&e.splice(r,1)},W=(e,t)=>e.push(t),L=(e,t,r)=>!e&&console.error(`${t} is deprecated${r?`, use ${r} instead`:""}`),V=()=>{let e=0;return()=>""+ ++e},K,B=V(),U=V(),G=V(),Y=V(),H=null,J=e=>{K&&K(e,H)},Q=()=>H&&H.template,X=e=>(e&&H&&H.sidRoot&&(e=`${H.sidRoot}|${e}`),e),Z=(e,t)=>{let r=k(e);a(t,e=>{let t=k(e);"domain"!==r.family.type&&(t.family.type="crosslink"),W(w(t),r),W(x(r),t)})},ee=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(k),et=e=>"object"==typeof e&&null!==e,er=e=>"function"==typeof e,en=e=>void 0===e,ea=e=>i(et(e)||er(e),"expect first argument be an object"),ei=(e,t,r,n)=>i(!(!et(e)&&!er(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${r} to be a unit (store, event or effect)${n}`),eo=(e,t,r)=>{Array.isArray(e)?a(e,(e,n)=>ei(e,t,`${n} item of ${r}`,"")):ei(e,t,r," or array of units")},el=(e,t,r="target")=>a(ee(t),t=>L(!O(t,"derived"),`${e}: derived unit in "${r}"`,"createEvent/createStore")),es=(e,{fn:t},{a:r})=>t(e,r),eu=(e,{fn:t},{a:r})=>t(r,e),ef=(e,{fn:t})=>t(e),ec=(e,t,r,n)=>{let a={id:U(),type:e,data:t};return r&&(a.order={priority:r},n&&(a.order.barrierID=++ed)),a},ed=0,ep=({from:e="store",store:t,target:r,to:n=r?"store":S,batch:a,priority:i})=>ec("mov",{from:e,store:t,to:n,target:r},i,a),em=({fn:e,batch:t,priority:r,safe:n=0,filter:a=0,pure:i=0})=>ec("compute",{fn:e,safe:n,filter:a,pure:i},r,t),eh=({fn:e})=>em({fn:e,priority:"effect"}),eg=(e,t,r)=>em({fn:e,safe:1,filter:t,priority:r&&"effect"}),ev=(e,t,r)=>ep({store:e,to:t?S:"a",priority:r&&"sampler",batch:1}),ey=(e=ef,t)=>em({fn:e,pure:1,filter:t}),eb={mov:ep,compute:em,filter:({fn:e,pure:t})=>em({fn:e,filter:1,pure:t}),run:eh},eS=e=>({id:U(),current:e}),ek=({current:e})=>e,ew=(e,t)=>{e.before||(e.before=[]),W(e.before,t)},ex=null,e$=(e,t)=>{let r;return e?(t&&((e.v.type===t.v.type&&e.v.id>t.v.id||eM(e.v.type)>eM(t.v.type))&&(r=e,e=t,t=r),r=e$(e.r,t),e.r=e.l,e.l=r),e):t},ej=[],eE=0;for(;eE<6;)W(ej,{first:null,last:null,size:0}),eE+=1;let eC=()=>{for(let e=0;e<6;e++){let t=ej[e];if(t.size>0){if(3===e||4===e){t.size-=1;let e=ex.v;return ex=e$(ex.l,ex.r),e}1===t.size&&(t.last=null);let r=t.first;return t.first=r.r,t.size-=1,r.v}}},eN=(e,t,r,n,a,i,o)=>eO(0,{a:null,b:null,node:r,parent:n,value:a,page:t,scope:i,meta:o},e),eO=(e,t,r,n=0)=>{let a=eM(r),i=ej[a],o={v:{idx:e,stack:t,type:r,id:n},l:null,r:null};3===a||4===a?ex=e$(ex,o):(0===i.size?i.first=o:i.last.r=o,i.last=o),i.size+=1},eM=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return -1}},e_=new Set,eR,eA=1,eP=0,ez=0,eq=null,eI=e=>{eR=e},eD=e=>{eq=e},eF=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=C(e);if(e)return e}return null},eT,eW=(e,t,r,n,a)=>{let i=eF(e,n.id);return i?i.reg[n.id]:t?(eV(t,n,a),t.reg[n.id]):n},eL=e=>e,eV=(e,t,r,n,i)=>{var o;let l=e.reg,s=t.sid,u=null==t||null===(o=t.meta)||void 0===o?void 0:o.serialize,f=e.fromSerialize&&"ignore"!==u&&(null==u?void 0:u.read)||eL;if(l[t.id])return;let c={id:t.id,current:t.current,meta:t.meta};if(c.id in e.values.idMap)c.current=e.values.idMap[c.id];else if(s&&s in e.values.sidMap&&!(s in e.sidIdMap))c.current=f(e.values.sidMap[s]);else if(t.before&&!i){let i=0,o=r||!t.noInit||n;a(t.before,t=>{switch(t.type){case b:{let a=t.from;if(a||t.fn){a&&eV(e,a,r,n);let i=a&&l[a.id].current;o&&(c.current=t.fn?t.fn(i):i)}break}case"field":i||(i=1,c.current=Array.isArray(c.current)?[...c.current]:{...c.current}),eV(e,t.from,r,n),o&&(c.current[t.field]=l[l[t.from.id].id].current)}})}s&&(e.sidIdMap[s]=t.id),l[t.id]=c},eK=(e,t,r)=>{try{return t(j(r),e.scope,r)}catch(t){console.error(t),e.fail=1,e.failReason=t}},eB=(e,t={})=>(et(e)&&(eB(e.or,t),n(e,(e,r)=>{en(e)||"or"===r||"and"===r||(t[r]=e)}),eB(e.and,t)),t),eU=(e,t)=>{T(e.next,t),T(w(e),t),T(x(e),t)},eG=(e,t,r)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let a=x(e);for(;n=a.pop();)eU(n,e),(t||r&&"sample"!==O(e,"op")||"crosslink"===n.family.type)&&eG(n,t,"on"!==O(n,"op")&&r);for(a=w(e);n=a.pop();)eU(n,e),r&&"crosslink"===n.family.type&&eG(n,t,"on"!==O(n,"op")&&r)},eY=e=>e.clear(),eH=(e,{deep:t}={})=>{let r=0;if(e.ownerSet&&e.ownerSet.delete(e),P(e))eY(E(e));else if(I(e)){r=1;let t=e.history;eY(t.events),eY(t.effects),eY(t.stores),eY(t.domains)}eG(k(e),!!t,r)},eJ=e=>{let t=()=>eH(e);return t.unsubscribe=t,t},eQ=(e,t,r,n,a)=>o({node:r,parent:e,child:t,scope:{fn:a},meta:{op:n},family:{owners:[e,t],links:t},regional:1}),eX=(e,t)=>(i(er(t),".watch argument should be a function"),eJ(o({scope:{fn:t},node:[eh({fn:ef})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),eZ=(e,t,r="event")=>{C(e)&&C(e).hooks[r](t)},e0=(e,t,r)=>{let n=eB(r),a="domain"===e,i=B(),{sid:o=null,named:l=null,domain:s=null,parent:u=s}=n,f=l||n.name||(a?"":i),c=function(e,t){let r,n;if(t){let a=_(t);0===e.length?(r=a.path,n=a.fullName):(r=a.path.concat([e]),n=0===a.fullName.length?e:a.fullName+"/"+e)}else r=0===e.length?[]:[e],n=e;return{shortName:e,fullName:n,path:r}}(f,u),d={op:t.kind=e,name:t.shortName=f,sid:t.sid=X(o),named:l,unitId:t.id=i,serialize:n.serialize,derived:n.derived,config:n};if(t.parent=u,t.compositeName=c,t.defaultConfig=n,t.thru=e=>(L(0,"thru","js pipe"),e(t)),t.getType=()=>c.fullName,!a){t.subscribe=e=>(ea(e),t.watch(er(e)?e:t=>e.next&&e.next(t))),t[y]=()=>t;let e=Q();e&&(d.nativeTemplate=e)}return d},e1=(e,t,r,n)=>{let a;et(r)&&(a=r,r=r.fn);let i=c({name:`${e.shortName} \u2192 *`,derived:1,and:a});return eQ(e,i,n,t,r),i},e2=(e,t,r,n,a)=>{let i=$(t),o=ep({store:i,to:"a",priority:"read"});r===b&&(o.data.softRead=1);let l=[o,ey(n)];return f("storeOnMap",i,l,P(e)&&$(e)),eQ(e,t,l,r,a)},e6=(e,t,r,a,o)=>{let l=e?e=>[...e]:e=>({...e}),u=e?[]:{},c=l(u),d=eS(c),m=eS(1);d.type=e?"list":"shape",d.noInit=1,f("combineBase",d,m);let h=p(c,{name:s(r),derived:1,and:a}),g=$(h);g.noInit=1,M(h,"isCombine",1);let v=ev(d);v.order={priority:"barrier"};let y=[eg((e,t,r)=>(r.scope&&!r.scope.reg[d.id]&&(r.c=1),e)),v,ep({store:m,to:"b"}),eg((e,{key:r},n)=>{if(n.c||e!==n.a[r])return t&&n.b&&(n.a=l(n.a)),n.a[r]=e,1},1),ep({from:"a",target:d}),ep({from:"value",store:0,target:m}),ep({from:"value",store:1,target:m,priority:"barrier",batch:1}),ev(d,1),o&&ey()];return n(r,(e,t)=>{if(!P(e))return i(!R(e)&&!en(e),`combine expects a store in a field ${t}`),void(c[t]=u[t]=e);u[t]=e.defaultState,c[t]=e.getState();let r=eQ(e,h,y,"combine",o);r.scope.key=t;let n=$(e);ew(d,{type:"field",field:t,from:n}),f("combineField",n,r)}),h.defaultShape=r,ew(g,{type:b,from:d,fn:o}),Q()||(h.defaultState=o?g.current=o(c):u),h},e5=(e,t,r)=>{try{return[1,e(...r)]}catch(e){return t(e),[0,null]}},e3=e=>{let t=N(e),r={ref:t};return t&&W(t.activeEffects,r),r},e4=(e,t,r,n,a,i)=>o=>{i.ref&&T(i.ref.activeEffects,i),l({target:[n,e7],params:[r?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:r?t.rs:t.rj}],defer:1,page:a.page,scope:i.ref,meta:a.meta})},e7=o({node:[eh({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}}),e8=["source","clock","target"],e9=(e,t)=>e+`: ${t} should be defined`,te=(e,t,r,n,a,o,l,d,m,h,g,v)=>{var y;let b,w=!!a;i(!en(r)||!en(t),e9(e,"either source or clock"));let x=0;en(r)?x=1:R(r)||(r=function(...e){let t,r,n;[e,n]=u(e);let a,o,l,s=e[e.length-1];if(er(s)?(r=e.slice(0,-1),t=s):r=e,1===r.length){let e=r[0];P(e)||(a=e,o=1)}if(!o&&(a=r,t)){l=1;let e=t;t=t=>e(...t)}return i(et(a),"shape should be an object"),e6(Array.isArray(a),!l,a,n,t)}(r)),en(t)?t=r:(eo(t,e,"clock"),Array.isArray(t)&&(eo(y=t,"merge","first argument"),b=c({name:s(y,"merge"),derived:1,and:void 0}),eQ(y,b,[],"merge"),t=b)),x&&(r=t),d||l||(l=r.shortName);let j="none";(g||n)&&(R(n)?j="unit":(i(er(n),"`filter` should be function or unit"),j="fn")),a?(eo(a,e,"target"),el(e,a)):"none"===j&&h&&P(r)&&P(t)?a=p(o?o(ek($(r)),ek($(t))):ek($(r)),{name:l,sid:v,or:d}):f("sampleTarget",k(a=c({name:l,derived:1,or:d})));let E=eS(),C=[];if("unit"===j){let[r,i]=tr(n,a,t,E,e);C=[...tt(i),...tt(r)]}let[N,O]=tr(r,a,t,E,e),M=eQ(t,a,[f("sampleSourceLoader"),ep({from:S,target:E}),...tt(O),ev(N,1,m),...C,ev(E),"fn"===j&&ey((e,t,{a:r})=>n(e,r),1),o&&ey(es),f("sampleSourceUpward",w)],e,o);return Z(r,[M]),Object.assign(M.meta,d,{joint:1}),a},tt=e=>[ev(e),eg((e,t,{a:r})=>r,1)],tr=(e,t,r,n,a)=>{let i=P(e),l=i?$(e):eS(),s=eS(i);return i||o({parent:e,node:[ep({from:S,target:l}),ep({from:"value",store:1,target:s})],family:{owners:[e,t,r],links:t},meta:{op:a},regional:1}),f("sampleSource",s,l,n),[l,s]}}}]);